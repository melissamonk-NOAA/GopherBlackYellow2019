---
title: ''
author: ''
date: ''
output:
  pdf_document:
    fig_caption: yes
    highlight: haddock
    includes:
      in_header: header.tex
    keep_tex: yes
    latex_engine: xelatex
    template: Default_template_modified.tex
    number_sections: yes
    toc: yes
    toc_depth: 4
  html_document:
    toc: yes
  word_document: default
documentclass: article
fontsize: 12pt
geometry: margin=1in
csl: CJFAS.csl
bibliography: BibFile.bib
---
```{r global_options, include=FALSE}
    # set global options for R code chunks: echo=FALSE (don't include source code); 
    # warning=FALSE (suppress R warnings); message=FALSE (suppress R messages)
    # eval = TRUE is default
    knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
```

```{r}
    # Read in preamble R code - including required libraries and the SS file(s)
    source('./Rcode/Preamble.R')
    source("./Rcode/MultiHeader.R")
    # Read in data/manipulations for executive summary tables and figures
    # It may take time to edit this file and get it ready for your assessment
    # Make small changes in this file and then try to compile the document
    # Commit when you have a success!
   # source('./Rcode/Exec_summary_figs_tables.R')
```

USE THIS .Rmd TO TEST R CODE CHUNKS, FIGURES AND PLOTS BEFORE INSERTING INTO THE MAIN TEXT OR TO DEBUG

The added variances were highest 
for the recreational onboard observer survey north of Point Conception
`r round(mod1$parameters[mod1$parameters$Label == "Q_extraSD_PISCO(4)", 3], 3)` 



```{r, results="asis"}
#read in index summary data for Fleet 5 - Deb's onboard
Fleet5_Filter = read.xlsx('./txt_files/Fleet5_DebWV_IndexData.xlsx', sheetName='Filter', header = T)
Fleet5_AIC = read.xlsx('./txt_files/Fleet5_DebWV_IndexData.xlsx', sheetName='AIC', header=T)

colnames(Fleet5_Filter) = c('Filter','Drifts','Positive Drifts')

Fleet5_Filter$Drifts = formatC(Fleet5_Filter$Drifts, digits = 0, format='f')
Fleet5_Filter$`Positive Drifts` = formatC(Fleet5_Filter$`Positive Drifts`, digits = 0, format='f')

Fleet5_Filter.table = xtable(Fleet5_Filter,
                       caption = c("Data filtering steps for Deb Wilson-Vandenberg's CPFV onboard observer 
                                        index of abundance"),
                       label = 'tab:Fleet5_Filter')


Fleet5_AIC.table = xtable(Fleet5_AIC,
                            caption = c("Model selection for Deb Wilson-Vandenberg's CPFV onboard observer 
                                        index of abundance. Bold values indicate the model selected."),
                            label='tab:Fleet5_AIC')
      


print(Fleet5_Filter.table, 
              include.rownames=FALSE, 
              caption.placement="top")

#add space between tables
cat(c("\\vspace{3cm}"))

print(Fleet5_AIC.table, 
              include.rownames=FALSE, 
              caption.placement="top",
              sanitize.text.function = function(x){x})
     
```