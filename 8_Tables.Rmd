<!-- ====================================================================== -->
<!-- ****************************            ****************************** --> 
<!-- ****************************BEGIN TABLES****************************** --> 
<!-- ****************************             ***************************** --> 
<!-- ======================================================================--> 

\FloatBarrier

<!-- ********************************************************************** --> 
<!-- *********************Commercial landings TABLES*********************** --> 
<!-- ********************************************************************** --> 

```{r, eval=TRUE, echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
     Comm_removal = read.csv("./txt_files/Catch_stream_w_alts.csv")
      Comm_removal = Comm_removal %>% 
                     select(Year, Calcom, WCGOPalt1, CommSource) %>%
                     add_column(Total = 1, .before = 'CommSource') %>%
                     mutate(Total = Calcom + WCGOPalt1)
                              
     colnames(Comm_removal) = c('Year',
                                'Landings',
                                'Discards',
                                'Total Commercial Removals',
                                'Source')
```


```{r, results='asis'}
   Comm_removal.table = xtable(Comm_removal, 
                    caption = c("Commercial landings and discards (mt) from the commercial 
                                fisheries. Data sources are the California Catch 
                                Reconstruction, CALCOM, and WCGOP GEMM report."))

   align(Comm_removal.table) =c('l','c', 
                            '>{\\centering}p{1in}',
                            '>{\\centering}p{.6in}',
                            '>{\\centering}p{1in}',
                            'l')  
     print(Comm_removal.table,include.rownames=FALSE,      
           caption.placement="top",align=TRUE,tabular.environment="longtable",
            floating=FALSE,  #sanitize.text.function = function(x){x},
           add.to.row = list(pos = list(0),command = 
                        paste("\\hline  \\endfirsthead",  # First caption
                                "\\caption[]{Commercial landings and discards (mt) from the commercial 
                                fisheries. Data sources are the California Catch 
                                Reconstruction, CALCOM, and WCGOP GEMM report.} \\label{tab:CommCatches} \\\\ \\hline", # Addit. captions
                                paste(colnames(Comm_removal)[1], paste("&", colnames(Comm_removal)[2:5], collapse=" ")), # Column names
                                "\\\\ \\hline ",
                                "\\endhead", 
                                "\\hline \\multicolumn{4}{l}{\\textit{Continues next page}} \\ 
                                 \\endfoot
                                 \\endlastfoot",collapse=" ")))
```

\FloatBarrier

<!-- ********************************************************************** --> 
<!-- *****Fishery Length comp tables TABLES******* -->
<!-- ********************************************************************** --> 

```{r, results = 'asis'}
#Read in lengths table, make one for n fish lengthed and one for trips
#Fishery dependent data
lengths_sample = read.csv('C:/GopherBlackYellow2019/txt_files/LengthSampleSize2.csv')
lengths_sample = lengths_sample[,1:11]
#Make the multiheader table
colnames(lengths_sample) = c('Year','Trips','Lengths','Trips','Lengths','Trips','Lengths',
                                 'Trips','Lengths','Trips','Lengths')

a_header <- construct_header(
  # the data.frame or matrix that should be plotted
  lengths_sample,
  # the labels of the groups that we want to insert
  grp_names = c("", "CALCOM", "WCGOP","Rec North","Rec South",
                     "Deb VW"),
  # the number of columns each group spans
  span = c(1, 2, 2, 2, 2, 2),
  # the alignment of each group, can be a single character (lcr) or a vector
  align = "c"
)

caption = "Length composition sample sizes for fishery dependent data. Continuous years begin in 1975. 
           Recreational north samples include Karpov et al., MRFSS, and CRFS data. 
           Recreational south samples include Karpov et al., Collins and Crooke unpub.,
           Ally et al. 1991, MRFSS, and CRFS data."

lengths.table = xtable(lengths_sample,
                    caption = caption,
                    label = 'tab:length_samples_fishery')

align(lengths.table) = c('l', 'l',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}')

print(lengths.table, add.to.row = a_header, 
      caption.placement = "top", 
      include.rownames = F, hline.after = F, scalebox = .76)
```





\FloatBarrier
\newpage
<!-- ********************************************************************** --> 
<!-- ***********Recreational Landings and discards TABLE******************* --> 
<!-- ********************************************************************** --> 

```{r, eval=TRUE, echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
      Rec_removal = read.csv("./txt_files/Catch_stream_w_alts.csv")
       Rec_removal =  Rec_removal %>% 
                     select(Year, RecNorthalt1, RecSouthalt1, RecSource) %>%
                     filter(Year>1927) %>%
                     add_column(Total = 1, .before = 'RecSource') %>%
                     mutate(Total = RecNorthalt1 + RecSouthalt1)
                              
     colnames(Rec_removal) = c('Year',
                                'North of Pt. Conception',
                                'South of Pt. Conception',
                                'Total Recreational Removals',
                                'Source')
```


```{r, results='asis'}
   Rec_removal.table = xtable(Rec_removal, 
                    caption = c("Recreational removals (mt) of GBYR. Data sources are the California Catch 
                                Reconstruction (modified for south of Pt. Conception), MRFSS (modified for 1981-1982), and CRFS."))

   align(Rec_removal.table) =c('l','c', 
                            '>{\\centering}p{1.2in}',
                            '>{\\centering}p{1.2in}',
                            '>{\\centering}p{1in}',
                            'l')  
     print(Rec_removal.table,include.rownames=FALSE,      
           caption.placement="top",align=TRUE,tabular.environment="longtable",
            floating=FALSE,  #sanitize.text.function = function(x){x},
           add.to.row = list(pos = list(0),command = 
                        paste("\\hline  \\endfirsthead",  # First caption
                                "\\caption[]{Recreational removals (mt) of GBYR. Data sources are the California Catch 
                                Reconstruction (modified for south of Pt. Conception), 
                              MRFSS (modified for 1981-1982), and CRFS.} \\label{tab:Rec_removal} \\\\ \\hline", # Addit. captions
                                paste(colnames(Rec_removal)[1], paste("&", colnames(Rec_removal)[2:5], collapse=" ")), # Column names
                                "\\\\ \\hline ",
                                "\\endhead", 
                                "\\hline \\multicolumn{4}{l}{\\textit{Continues next page}} \\ 
                                 \\endfoot
                                 \\endlastfoot",collapse=" ")))
```



\newpage
\FloatBarrier


<!-- ********************************************************************** --> 
<!-- *****Survey Length comp tables TABLES******* -->
<!-- ********************************************************************** --> 

```{r, results = 'asis'}
#Read in lengths table, make one for n fish lengthed and one for trips
#Fishery independent data
lengths_sample1 = read.csv('C:/GopherBlackYellow2019/txt_files/LengthSampleSize2.csv')
lengths_sample1 = lengths_sample1 %>%
                  select(Year, CCFRPT:PISCOF) %>%
                  filter(Year>2000)
#Make the multiheader table
colnames(lengths_sample1) = c('Year','Trips','Lengths','Trips','Lengths')

a_header <- construct_header(
  # the data.frame or matrix that should be plotted
  lengths_sample1,
  # the labels of the groups that we want to insert
  grp_names = c("","CCFRP","PISCO"),
  # the number of columns each group spans
  span = c(1, 2, 2),
  # the alignment of each group, can be a single character (lcr) or a vector
  align = "c"
)

caption = "Length composition sample sizes for survey data."

lengths.table = xtable(lengths_sample1,
                    caption = caption,
                    label = 'tab:length_samples_survey')

align(lengths.table) = c('l', 'l',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}',
                               '>{\\centering}p{0.6in}')

print(lengths.table, add.to.row = a_header, 
      caption.placement = "top", 
      include.rownames = F, hline.after = F)
```



\FloatBarrier
<!-- ********************************************************************** -->
<!-- *****Fleet xx index TABLES******* -->
<!-- ********************************************************************** -->


\FloatBarrier
<!-- ********************************************************************** -->
<!-- *****Fleet xx index TABLES******* -->
<!-- ********************************************************************** -->









\FloatBarrier
<!-- ********************************************************************** -->
<!-- *****Fleet xx index TABLES******* -->
<!-- ********************************************************************** -->




